<link rel="import" href="../data-provider-behavior.html">

<dom-module id="data-provider-demo">
  <template>
    <style>:host { display: none; }</style>
  </template>
  <script>
  (function() {
    Polymer({
      is: 'data-provider-demo',

      behaviors: [
        window.Polymer.DataProviderBehavior,
        window.Polymer.DataProviderCollectionBehavior,
      ],

      properties: {
        remoteData: {
          type: Object,
          notify: true
        },

        name: {
          type: String,
          value: 'categories'
        },

        keyField: {
          type: String,
          value: '_id'
        }
      },

      getRemoteData: function() {
        var store = this._store;

        if (store.fetched) { return;Â }

        this.loading = true;
        store.loading = true;

        setTimeout(function() {
          this.loading = false;
          store.loading = false;
          store.fetched = true;

          this.data = {
            'AAA001': {
              '_id': 'AAA001',
              'name': 'Bags'
            },
            'BBB002': {
              '_id': 'BBB002',
              'name': 'Clutches'
            }
          };
        }.bind(this), 500);
      },

    });
  }());
  </script>
</dom-module>
